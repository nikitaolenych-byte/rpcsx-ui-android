{
  "name": "Mali Optimized",
  "description": "ARM Mali GPU optimizations with AFBC and Transaction Elimination",
  "version": 1,
  "author": "RPCSX Team",
  "target_vendor": "ARM_MALI",
  
  "render_settings": {
    "resolution_scale": 0.85,
    "target_width": 1600,
    "target_height": 900,
    "target_fps": 60,
    "anisotropic_level": 4,
    "aa_mode": "FXAA",
    "shadow_quality": "MEDIUM",
    "shadow_map_size": 1024,
    "texture_quality": "HIGH",
    "enable_bloom": true,
    "enable_dof": false,
    "enable_motion_blur": false,
    "enable_ambient_occlusion": false,
    "enable_texture_compression": true,
    "prefer_astc": true,
    "prefer_etc2": true,
    "hdr_mode": "AUTO"
  },
  
  "shader_settings": {
    "use_half_precision": true,
    "use_relaxed_precision": true,
    "enable_precompilation": true,
    "precompile_thread_count": 3,
    "enable_pipeline_cache": true,
    "shader_cache_size_mb": 128,
    "enable_vendor_extensions": true,
    "enabled_extensions": [
      "VK_ARM_rasterization_order_attachment_access",
      "VK_EXT_fragment_density_map"
    ]
  },
  
  "memory_settings": {
    "max_vertex_buffers_mb": 128,
    "max_index_buffers_mb": 64,
    "texture_cache_size_mb": 384,
    "enable_texture_streaming": true,
    "streaming_budget_mb": 64,
    "gc_threshold_mb": 512,
    "gc_interval_ms": 5000
  },
  
  "pipeline_settings": {
    "enable_pipeline_cache": true,
    "max_cached_pipelines": 1024,
    "enable_async_compilation": true,
    "enable_binning_optimization": true,
    "bin_width": 16,
    "bin_height": 16,
    "enable_afbc": true,
    "use_primitive_restart": true,
    "prefer_triangle_strips": false
  },
  
  "vendor_specific": {
    "flags": {
      "enable_afbc": true,
      "enable_transaction_elimination": true,
      "prefer_linear_textures": false,
      "use_early_z": true,
      "enable_fma": true,
      "use_vector_fp16": true,
      "enable_smart_composition": true,
      "prefer_tile_memory": true,
      "enable_idvs": true
    },
    "ints": {
      "shader_cores": 10,
      "execution_engines": 2,
      "tile_size": 16,
      "max_concurrent_warps": 64
    },
    "floats": {
      "lod_bias": -0.25,
      "aniso_bias": 0.0,
      "overdraw_threshold": 2.5
    },
    "strings": {
      "architecture": "Valhall",
      "preferred_format": "R8G8B8A8_UNORM",
      "depth_format": "D24_UNORM_S8_UINT"
    }
  },
  
  "tier_overrides": {
    "LOW_END": {
      "resolution_scale": 0.5,
      "target_width": 960,
      "target_height": 540,
      "target_fps": 30,
      "anisotropic_level": 1,
      "shadow_quality": "OFF",
      "texture_quality": "LOW",
      "texture_cache_size_mb": 128,
      "enable_bloom": false,
      "enable_afbc": false
    },
    "MID_RANGE": {
      "resolution_scale": 0.7,
      "target_width": 1280,
      "target_height": 720,
      "target_fps": 30,
      "anisotropic_level": 2,
      "shadow_quality": "LOW",
      "texture_quality": "MEDIUM",
      "texture_cache_size_mb": 256
    },
    "HIGH_END": {
      "resolution_scale": 0.85,
      "target_width": 1600,
      "target_height": 900,
      "target_fps": 60,
      "anisotropic_level": 4,
      "shadow_quality": "MEDIUM",
      "texture_quality": "HIGH",
      "texture_cache_size_mb": 384
    },
    "ULTRA": {
      "resolution_scale": 1.0,
      "target_width": 1920,
      "target_height": 1080,
      "target_fps": 60,
      "anisotropic_level": 8,
      "aa_mode": "TAA",
      "shadow_quality": "HIGH",
      "shadow_map_size": 2048,
      "texture_quality": "ULTRA",
      "texture_cache_size_mb": 512,
      "enable_bloom": true,
      "enable_ambient_occlusion": true
    }
  },
  
  "mali_models": {
    "Mali-G51": { "tier": "LOW_END", "arch": "Bifrost", "notes": "Entry-level" },
    "Mali-G52": { "tier": "LOW_END", "arch": "Bifrost", "notes": "Budget devices" },
    "Mali-G57": { "tier": "MID_RANGE", "arch": "Valhall", "notes": "Dimensity 700/800" },
    "Mali-G68": { "tier": "MID_RANGE", "arch": "Valhall", "notes": "Dimensity 900" },
    "Mali-G77": { "tier": "MID_RANGE", "arch": "Valhall", "notes": "Exynos 990" },
    "Mali-G78": { "tier": "HIGH_END", "arch": "Valhall", "notes": "Exynos 2100" },
    "Mali-G710": { "tier": "HIGH_END", "arch": "Valhall", "notes": "Dimensity 9000" },
    "Mali-G715": { "tier": "HIGH_END", "arch": "Valhall", "notes": "Dimensity 9200" },
    "Mali-G720": { "tier": "ULTRA", "arch": "Valhall", "notes": "Dimensity 9300" },
    "Immortalis-G715": { "tier": "ULTRA", "arch": "Immortalis", "notes": "10+ cores, RT" },
    "Immortalis-G720": { "tier": "ULTRA", "arch": "Immortalis", "notes": "Dimensity 9300" },
    "Immortalis-G925": { "tier": "ULTRA", "arch": "Immortalis", "notes": "Next-gen flagship" }
  },
  
  "afbc_settings": {
    "enable_for_render_targets": true,
    "enable_for_textures": true,
    "enable_for_depth": false,
    "compression_mode": "WIDE_BLOCK",
    "block_sizes": [16, 16],
    "split_mode": false,
    "yuv_transform": false
  }
}
